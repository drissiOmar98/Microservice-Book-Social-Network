<div class="p-2 mb-4 card shadow-sm">
  <hr>
  <div class="d-flex gap-3">
    <div class="col-3">
      <img
        class="rounded shadow-sm"
        width="100%"
        height="auto"
        [src]="'data:image/jpg;base64,' + book.cover || 'https://source.unsplash.com/user/c_v_r/1900x800'"
        alt="Book Cover">
    </div>
    <div class="col-9">
      <h2 class="text-dark mb-1">
        <i class="fa-solid fa-book me-2"></i>{{ book.title }}
      </h2>
      <h4 class="text-secondary mb-2">
        <i class="fa-solid fa-user-check me-2"></i>{{ book.authorName }}
      </h4>
      <h5 class="text-muted mb-1">
        <i class="fas fa-code me-2"></i>{{ book.isbn }}
      </h5>
      <h6 class="card-subtitle text-secondary mb-3">
        <i class="fas fa-user me-2"></i>{{ book.owner }}
      </h6>
      <div class="d-flex align-items-center gap-2 mb-3">
        <app-rating [rating]="book.rate || 0"></app-rating>
        <span class="fw-bold">{{ book.rate }}</span>
        <small class="text-muted">({{ feedbacks.totalElements || 0 }} feedbacks)</small>
      </div>
      <hr>
      <p class="card-text">
        {{ book.synopsis }}
      </p>
    </div>
  </div>
</div>

<!--<div class="feedback-section mb-4">
  <div class="feedback-entry p-2 mb-3 border-bottom" *ngFor="let feedback of feedbacks.content">
    <div class="d-flex align-items-center gap-2 mb-1">
      <app-rating [rating]="feedback.note || 0"></app-rating>
      <strong>{{ feedback.note }}</strong>
    </div>
    <p class="text-muted">{{ feedback.comment }}</p>
  </div>
</div>-->
<div class="feedback-section mb-4">
  <h4 class="comments-title">Comments ({{ feedbacks.totalElements || 0 }})</h4>
  <div class="feedback-entry p-3 mb-3 border-bottom" *ngFor="let feedback of feedbacks.content">
    <div class="d-flex align-items-center mb-2">
      <div class="symbol symbol-30px symbol-md-40px">
        <img src="assets/media/avatars/300-1.jpg" alt="User Avatar" />
      </div>
      <div class="feedback-info ms-3">
        <strong class="user-name"></strong>
        <span class="feedback-time text-muted"></span>
      </div>
      <p class="feedback-comment text-muted"><strong>{{ feedback.comment }}</strong></p>
    </div>
    <div class="d-flex align-items-center gap-2 mb-1">
      <app-rating [rating]="feedback.note || 0"></app-rating>
      <strong class="feedback-note">{{ feedback.note }}</strong>
    </div>

  </div>
</div>


<div class="d-flex justify-content-center mt-4">
  <nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item">
        <a
          (click)="goToFirstPage()"
          class="page-link rounded-start"
          href="javascript:void(0)"
          aria-label="First"
          [class.disabled]="page === 0">
          <i class="fa-solid fa-angles-left"></i>
        </a>
      </li>
      <li class="page-item">
        <a
          (click)="goToPreviousPage()"
          class="page-link"
          href="javascript:void(0)"
          aria-label="Previous"
          [class.disabled]="page === 0">
          <i class="fa-solid fa-angle-left"></i>
        </a>
      </li>
      <li
        class="page-item"
        *ngFor="let pageIndex of pages">
        <a
          (click)="gotToPage(pageIndex)"
          class="page-link"
          [class.active]="page === pageIndex"
          href="javascript:void(0)">
          {{ pageIndex + 1 }}
        </a>
      </li>
      <li class="page-item">
        <a
          (click)="goToNextPage()"
          class="page-link"
          href="javascript:void(0)"
          aria-label="Next"
          [class.disabled]="isLastPage">
          <i class="fa-solid fa-angle-right"></i>
        </a>
      </li>
      <li class="page-item">
        <a
          (click)="goToLastPage()"
          class="page-link rounded-end"
          href="javascript:void(0)"
          aria-label="Last"
          [class.disabled]="isLastPage">
          <i class="fa-solid fa-angles-right"></i>
        </a>
      </li>
    </ul>
  </nav>
</div>
